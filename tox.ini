[tox]

envlist = 
    tests, docs-{linux, win32}
allowlist_externals =
    make

[testenv]
skipsdist = true
isolated_build = true

platform =
    linux: linux
    win32: win32
passenv = *
basepython = python3

deps =
    pandas>=1.5.3
    pytest>=7.2.1
    coverage>=7.1.0
    sphinx>=6.1.3
    requests>=2.28.2


[gh-actions]
python =
    3.8: py38
    3.9: py39


[testenv:tests]

commands = 
    coverage run -m pytest tests/
    coverage report -m

[testenv:win32]
allowlist_externals = *
commands =
    .\docs\\make.bat clean
    .\docs\\make.bat html

[testenv:docs-linux]

changedir = docs
commands = 
    make clean
    make html
